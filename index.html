<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>勉強管理アプリ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/recharts/2.8.0/umd/Recharts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .app-container {
            max-width: 448px;
            margin: 0 auto;
            min-height: 100vh;
            background-color: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        @media (min-width: 768px) {
            .app-container {
                margin-top: 2rem;
                min-height: calc(100vh - 4rem);
                border-radius: 1rem;
                overflow: hidden;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } = Recharts;
        const { Play, Pause, Plus, Clock, Calendar, Target, Bell, Settings, BarChart3, Trash2 } = lucide;

        const StudyManagementApp = () => {
            // 初期科目設定
            const defaultSubjects = [
                { id: 1, name: '国語', color: '#ef4444' },
                { id: 2, name: '数学', color: '#3b82f6' },
                { id: 3, name: '理科', color: '#10b981' },
                { id: 4, name: '社会', color: '#f59e0b' },
                { id: 5, name: '英語', color: '#8b5cf6' }
            ];

            // State管理
            const [subjects, setSubjects] = useState(defaultSubjects);
            const [selectedSubject, setSelectedSubject] = useState(defaultSubjects[0]);
            const [isStudying, setIsStudying] = useState(false);
            const [studyTime, setStudyTime] = useState(0);
            const [startTime, setStartTime] = useState(null);
            const [currentTime, setCurrentTime] = useState(new Date());
            const [activeTab, setActiveTab] = useState('timer');
            const [studyHistory, setStudyHistory] = useState([]);
            const [goals, setGoals] = useState({ daily: 2, weekly: 14, monthly: 60 });
            const [notifications, setNotifications] = useState({ enabled: true, time: '19:00' });
            const [newSubjectName, setNewSubjectName] = useState('');
            const [showAddSubject, setShowAddSubject] = useState(false);
            const [viewPeriod, setViewPeriod] = useState('daily');
            
            const intervalRef = useRef(null);

            // 時間表示更新
            useEffect(() => {
                const timer = setInterval(() => {
                    setCurrentTime(new Date());
                }, 1000);
                return () => clearInterval(timer);
            }, []);

            // 勉強時間カウンター
            useEffect(() => {
                if (isStudying) {
                    intervalRef.current = setInterval(() => {
                        setStudyTime(prev => prev + 1);
                    }, 1000);
                } else {
                    clearInterval(intervalRef.current);
                }
                return () => clearInterval(intervalRef.current);
            }, [isStudying]);

            // 通知機能（簡易版）
            useEffect(() => {
                if (notifications.enabled) {
                    const now = new Date();
                    const notificationTime = new Date();
                    const [hours, minutes] = notifications.time.split(':');
                    notificationTime.setHours(parseInt(hours), parseInt(minutes), 0, 0);
                    
                    if (now.getHours() === notificationTime.getHours() && 
                        now.getMinutes() === notificationTime.getMinutes() && 
                        now.getSeconds() === 0) {
                        // 今日の学習記録をチェック
                        const today = formatDate(new Date());
                        const todayStudy = studyHistory.filter(h => h.date === today);
                        if (todayStudy.length === 0) {
                            alert('今日はまだ勉強していません！勉強を始めましょう！');
                        }
                    }
                }
            }, [currentTime, notifications, studyHistory]);

            // 勉強開始
            const startStudy = () => {
                setIsStudying(true);
                setStartTime(new Date());
                setStudyTime(0);
            };

            // 勉強停止
            const stopStudy = () => {
                if (isStudying && studyTime > 0) {
                    const endTime = new Date();
                    const newRecord = {
                        id: Date.now(),
                        subject: selectedSubject.name,
                        color: selectedSubject.color,
                        duration: studyTime,
                        date: formatDate(endTime),
                        startTime: formatTime(startTime),
                        endTime: formatTime(endTime)
                    };
                    setStudyHistory(prev => [...prev, newRecord]);
                }
                setIsStudying(false);
                setStudyTime(0);
                setStartTime(null);
            };

            // 科目追加
            const addSubject = () => {
                if (newSubjectName.trim()) {
                    const colors = ['#ec4899', '#06b6d4', '#84cc16', '#f97316', '#6366f1'];
                    const newSubject = {
                        id: Date.now(),
                        name: newSubjectName,
                        color: colors[Math.floor(Math.random() * colors.length)]
                    };
                    setSubjects(prev => [...prev, newSubject]);
                    setNewSubjectName('');
                    setShowAddSubject(false);
                }
            };

            // 科目削除
            const deleteSubject = (subjectId) => {
                if (subjects.length <= 1) {
                    alert('最低1つの科目は必要です');
                    return;
                }
                
                const subjectToDelete = subjects.find(s => s.id === subjectId);
                const confirmDelete = window.confirm(`「${subjectToDelete.name}」を削除しますか？関連する学習履歴も削除されます。`);
                
                if (confirmDelete) {
                    // 科目を削除
                    setSubjects(prev => prev.filter(s => s.id !== subjectId));
                    
                    // 関連する学習履歴も削除
                    setStudyHistory(prev => prev.filter(h => h.subject !== subjectToDelete.name));
                    
                    // 選択中の科目が削除された場合、別の科目を選択
                    if (selectedSubject.id === subjectId) {
                        const remainingSubjects = subjects.filter(s => s.id !== subjectId);
                        setSelectedSubject(remainingSubjects[0]);
                    }
                }
            };

            // 科目の色変更
            const changeSubjectColor = (subjectId, newColor) => {
                setSubjects(prev => prev.map(s => s.id === subjectId ? {...s, color: newColor} : s));
                if (selectedSubject.id === subjectId) {
                    setSelectedSubject(prev => ({...prev, color: newColor}));
                }
            };

            // 日付フォーマット
            const formatDate = (date) => {
                return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
            };

            // 時間フォーマット
            const formatTime = (date) => {
                return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
            };

            // 秒を時間:分:秒に変換
            const formatDuration = (seconds) => {
                const hours = Math.floor(seconds / 3600);
                const minutes = Math.floor((seconds % 3600) / 60);
                const secs = seconds % 60;
                return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            };

            // 統計データ取得
            const getStatistics = () => {
                const now = new Date();
                let filteredData = [];

                if (viewPeriod === 'daily') {
                    // 過去7日間
                    for (let i = 6; i >= 0; i--) {
                        const date = new Date(now);
                        date.setDate(date.getDate() - i);
                        const dateStr = formatDate(date);
                        const dayData = { date: dateStr, name: `${date.getMonth() + 1}/${date.getDate()}` };
                        
                        subjects.forEach(subject => {
                            const dayStudy = studyHistory.filter(h => h.date === dateStr && h.subject === subject.name);
                            const totalTime = dayStudy.reduce((sum, h) => sum + h.duration, 0) / 60; // 分単位
                            dayData[subject.name] = totalTime;
                        });
                        
                        filteredData.push(dayData);
                    }
                } else if (viewPeriod === 'weekly') {
                    // 過去4週間
                    for (let i = 3; i >= 0; i--) {
                        const endDate = new Date(now);
                        endDate.setDate(endDate.getDate() - (i * 7));
                        const startDate = new Date(endDate);
                        startDate.setDate(startDate.getDate() - 6);
                        
                        const weekData = { date: `${startDate.getMonth() + 1}/${startDate.getDate()}-${endDate.getMonth() + 1}/${endDate.getDate()}`, name: `Week ${4-i}` };
                        
                        subjects.forEach(subject => {
                            let totalTime = 0;
                            for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {
                                const dateStr = formatDate(d);
                                const dayStudy = studyHistory.filter(h => h.date === dateStr && h.subject === subject.name);
                                totalTime += dayStudy.reduce((sum, h) => sum + h.duration, 0);
                            }
                            weekData[subject.name] = totalTime / 60; // 分単位
                        });
                        
                        filteredData.push(weekData);
                    }
                } else if (viewPeriod === 'monthly') {
                    // 過去3ヶ月
                    for (let i = 2; i >= 0; i--) {
                        const month = new Date(now.getFullYear(), now.getMonth() - i, 1);
                        const monthStr = `${month.getFullYear()}-${String(month.getMonth() + 1).padStart(2, '0')}`;
                        const monthData = { date: monthStr, name: `${month.getMonth() + 1}月` };
                        
                        subjects.forEach(subject => {
                            const monthStudy = studyHistory.filter(h => h.date.startsWith(monthStr) && h.subject === subject.name);
                            const totalTime = monthStudy.reduce((sum, h) => sum + h.duration, 0) / 60; // 分単位
                            monthData[subject.name] = totalTime;
                        });
                        
                        filteredData.push(monthData);
                    }
                }

                return filteredData;
            };

            // 今日の学習時間取得
            const getTodayStudyTime = () => {
                const today = formatDate(new Date());
                const todayStudy = studyHistory.filter(h => h.date === today);
                return todayStudy.reduce((sum, h) => sum + h.duration, 0);
            };

            // タブコンテンツ
            const renderTabContent = () => {
                switch(activeTab) {
                    case 'timer':
                        return React.createElement('div', { className: 'space-y-6' }, [
                            // 現在時刻表示
                            React.createElement('div', { key: 'time', className: 'text-center bg-gray-50 p-4 rounded-lg' }, [
                                React.createElement('div', { key: 'clock', className: 'flex items-center justify-center gap-2 text-gray-600' }, [
                                    React.createElement(Clock, { key: 'icon', size: 20 }),
                                    React.createElement('span', { key: 'time', className: 'text-2xl font-mono' }, 
                                        currentTime.toLocaleTimeString('ja-JP')
                                    )
                                ]),
                                React.createElement('div', { key: 'date', className: 'text-sm text-gray-500 mt-1' },
                                    currentTime.toLocaleDateString('ja-JP', { 
                                        year: 'numeric', 
                                        month: 'long', 
                                        day: 'numeric',
                                        weekday: 'long'
                                    })
                                )
                            ]),

                            // 科目選択
                            React.createElement('div', { key: 'subjects', className: 'space-y-3' }, [
                                React.createElement('label', { key: 'label', className: 'block text-sm font-medium text-gray-700' }, '科目選択'),
                                React.createElement('div', { key: 'grid', className: 'grid grid-cols-2 gap-2' },
                                    subjects.map(subject => 
                                        React.createElement('button', {
                                            key: subject.id,
                                            onClick: () => !isStudying && setSelectedSubject(subject),
                                            disabled: isStudying,
                                            className: `p-3 rounded-lg border-2 transition-all ${
                                                selectedSubject.id === subject.id
                                                    ? 'border-blue-500 bg-blue-50'
                                                    : 'border-gray-200 hover:border-gray-300'
                                            } ${isStudying ? 'opacity-50 cursor-not-allowed' : ''}`,
                                            style: {
                                                backgroundColor: selectedSubject.id === subject.id ? subject.color + '20' : 'white',
                                                borderColor: selectedSubject.id === subject.id ? subject.color : undefined
                                            }
                                        }, 
                                            React.createElement('div', { className: 'flex items-center gap-2' }, [
                                                React.createElement('div', {
                                                    key: 'color',
                                                    className: 'w-4 h-4 rounded-full',
                                                    style: { backgroundColor: subject.color }
                                                }),
                                                React.createElement('span', { key: 'name', className: 'text-sm font-medium' }, subject.name)
                                            ])
                                        )
                                    )
                                )
                            ]),

                            // タイマー表示
                            React.createElement('div', { key: 'timer', className: 'text-center space-y-4' }, [
                                React.createElement('div', { key: 'time', className: 'text-6xl font-mono font-bold text-gray-800' },
                                    formatDuration(studyTime)
                                ),
                                React.createElement('div', { key: 'subject', className: 'text-lg text-gray-600' },
                                    `${selectedSubject.name}で勉強中`
                                )
                            ]),

                            // 開始/停止ボタン
                            React.createElement('div', { key: 'button', className: 'flex justify-center' },
                                !isStudying 
                                    ? React.createElement('button', {
                                        onClick: startStudy,
                                        className: 'flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-full text-lg font-medium transition-colors'
                                    }, [
                                        React.createElement(Play, { key: 'icon', size: 24 }),
                                        '勉強開始'
                                    ])
                                    : React.createElement('button', {
                                        onClick: stopStudy,
                                        className: 'flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-8 py-4 rounded-full text-lg font-medium transition-colors'
                                    }, [
                                        React.createElement(Pause, { key: 'icon', size: 24 }),
                                        '勉強終了'
                                    ])
                            ),

                            // 今日の学習時間
                            React.createElement('div', { key: 'today', className: 'bg-blue-50 p-4 rounded-lg text-center' }, [
                                React.createElement('div', { key: 'label', className: 'text-sm text-blue-600 mb-1' }, '今日の学習時間'),
                                React.createElement('div', { key: 'time', className: 'text-2xl font-bold text-blue-800' },
                                    formatDuration(getTodayStudyTime())
                                )
                            ])
                        ]);

                    case 'history':
                        return React.createElement('div', { className: 'space-y-6' }, [
                            React.createElement('div', { key: 'header', className: 'flex justify-between items-center' }, [
                                React.createElement('h2', { key: 'title', className: 'text-xl font-bold text-gray-800' }, '学習履歴'),
                                React.createElement('select', {
                                    key: 'select',
                                    value: viewPeriod,
                                    onChange: (e) => setViewPeriod(e.target.value),
                                    className: 'px-3 py-2 border border-gray-300 rounded-lg'
                                }, [
                                    React.createElement('option', { key: 'daily', value: 'daily' }, '日別'),
                                    React.createElement('option', { key: 'weekly', value: 'weekly' }, '週別'),
                                    React.createElement('option', { key: 'monthly', value: 'monthly' }, '月別')
                                ])
                            ]),

                            React.createElement('div', { key: 'chart', className: 'h-80' },
                                React.createElement(ResponsiveContainer, { width: '100%', height: '100%' },
                                    React.createElement(BarChart, { data: getStatistics() }, [
                                        React.createElement(CartesianGrid, { key: 'grid', strokeDasharray: '3 3' }),
                                        React.createElement(XAxis, { key: 'x', dataKey: 'name' }),
                                        React.createElement(YAxis, { key: 'y' }),
                                        React.createElement(Tooltip, { key: 'tooltip', formatter: (value) => [`${value.toFixed(0)}分`, ''] }),
                                        React.createElement(Legend, { key: 'legend' }),
                                        ...subjects.map(subject =>
                                            React.createElement(Bar, {
                                                key: subject.name,
                                                dataKey: subject.name,
                                                fill: subject.color,
                                                name: subject.name
                                            })
                                        )
                                    ])
                                )
                            ),

                            // 最近の学習記録
                            React.createElement('div', { key: 'recent', className: 'space-y-2' }, [
                                React.createElement('h3', { key: 'title', className: 'text-lg font-medium text-gray-800' }, '最近の記録'),
                                React.createElement('div', { key: 'list', className: 'space-y-2 max-h-60 overflow-y-auto' },
                                    studyHistory.slice(-10).reverse().map(record => 
                                        React.createElement('div', { key: record.id, className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' }, [
                                            React.createElement('div', { key: 'info', className: 'flex items-center gap-3' }, [
                                                React.createElement('div', {
                                                    key: 'color',
                                                    className: 'w-4 h-4 rounded-full',
                                                    style: { backgroundColor: record.color }
                                                }),
                                                React.createElement('span', { key: 'subject', className: 'font-medium' }, record.subject),
                                                React.createElement('span', { key: 'date', className: 'text-sm text-gray-500' }, record.date)
                                            ]),
                                            React.createElement('div', { key: 'duration', className: 'text-sm' },
                                                `${Math.floor(record.duration / 60)}分${record.duration % 60}秒`
                                            )
                                        ])
                                    )
                                )
                            ])
                        ]);

                    case 'goals':
                        return React.createElement('div', { className: 'space-y-6' }, [
                            React.createElement('h2', { key: 'title', className: 'text-xl font-bold text-gray-800' }, '目標設定'),
                            
                            React.createElement('div', { key: 'inputs', className: 'space-y-4' }, [
                                React.createElement('div', { key: 'daily', className: 'space-y-2' }, [
                                    React.createElement('label', { key: 'label', className: 'block text-sm font-medium text-gray-700' }, '日別目標時間（分）'),
                                    React.createElement('input', {
                                        key: 'input',
                                        type: 'number',
                                        value: goals.daily * 60,
                                        onChange: (e) => setGoals(prev => ({...prev, daily: (parseInt(e.target.value) || 0) / 60})),
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        min: '0',
                                        max: '1440',
                                        step: '30'
                                    })
                                ]),

                                React.createElement('div', { key: 'weekly', className: 'space-y-2' }, [
                                    React.createElement('label', { key: 'label', className: 'block text-sm font-medium text-gray-700' }, '週別目標時間（分）'),
                                    React.createElement('input', {
                                        key: 'input',
                                        type: 'number',
                                        value: goals.weekly * 60,
                                        onChange: (e) => setGoals(prev => ({...prev, weekly: (parseInt(e.target.value) || 0) / 60})),
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        min: '0',
                                        max: '10080',
                                        step: '30'
                                    })
                                ]),

                                React.createElement('div', { key: 'monthly', className: 'space-y-2' }, [
                                    React.createElement('label', { key: 'label', className: 'block text-sm font-medium text-gray-700' }, '月別目標時間（分）'),
                                    React.createElement('input', {
                                        key: 'input',
                                        type: 'number',
                                        value: goals.monthly * 60,
                                        onChange: (e) => setGoals(prev => ({...prev, monthly: (parseInt(e.target.value) || 0) / 60})),
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg',
                                        min: '0',
                                        max: '44640',
                                        step: '30'
                                    })
                                ])
                            ]),

                            // 目標達成状況
                            React.createElement('div', { key: 'progress', className: 'space-y-4' }, [
                                React.createElement('h3', { key: 'title', className: 'text-lg font-medium text-gray-800' }, '達成状況'),
                                
                                React.createElement('div', { key: 'today', className: 'space-y-3' },
                                    React.createElement('div', { className: 'p-3 bg-gray-50 rounded-lg' }, [
                                        React.createElement('div', { key: 'header', className: 'flex justify-between items-center mb-2' }, [
                                            React.createElement('span', { key: 'label', className: 'text-sm font-medium' }, '今日の進捗'),
                                            React.createElement('span', { key: 'time', className: 'text-sm text-gray-600' },
                                                `${(getTodayStudyTime() / 60).toFixed(0)} / ${goals.daily * 60} 分`
                                            )
                                        ]),
                                        React.createElement('div', { key: 'bar', className: 'w-full bg-gray-200 rounded-full h-2' },
                                            React.createElement('div', {
                                                className: 'bg-blue-500 h-2 rounded-full',
                                                style: {
                                                    width: `${Math.min(100, (getTodayStudyTime() / 60 / (goals.daily * 60)) * 100)}%`
                                                }
                                            })
                                        )
                                    ])
                                )
                            ])
                        ]);

                    case 'settings':
                        return React.createElement('div', { className: 'space-y-6' }, [
                            React.createElement('h2', { key: 'title', className: 'text-xl font-bold text-gray-800' }, '設定'),
                            
                            // 通知設定
                            React.createElement('div', { key: 'notifications', className: 'space-y-4' }, [
                                React.createElement('h3', { key: 'title', className: 'text-lg font-medium text-gray-800' }, '通知設定'),
                                
                                React.createElement('div', { key: 'enable', className: 'flex items-center gap-3' }, [
                                    React.createElement('input', {
                                        key: 'checkbox',
                                        type: 'checkbox',
                                        checked: notifications.enabled,
                                        onChange: (e) => setNotifications(prev => ({...prev, enabled: e.target.checked})),
                                        className: 'w-4 h-4'
                                    }),
                                    React.createElement('label', { key: 'label', className: 'text-sm font-medium text-gray-700' },
                                        '勉強リマインダーを有効にする'
                                    )
                                ]),

                                React.createElement('div', { key: 'time', className: 'space-y-2' }, [
                                    React.createElement('label', { key: 'label', className: 'block text-sm font-medium text-gray-700' }, '通知時刻'),
                                    React.createElement('input', {
                                        key: 'input',
                                        type: 'time',
                                        value: notifications.time,
                                        onChange: (e) => setNotifications(prev => ({...prev, time: e.target.value})),
                                        className: 'px-3 py-2 border border-gray-300 rounded-lg'
                                    })
                                ])
                            ]),

                            // 科目管理
                            React.createElement('div', { key: 'subjects', className: 'space-y-4' }, [
                                React.createElement('h3', { key: 'title', className: 'text-lg font-medium text-gray-800' }, '科目管理'),
                                
                                React.createElement('div', { key: 'list', className: 'space-y-3' },
                                    subjects.map(subject => 
                                        React.createElement('div', { key: subject.id, className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' }, [
                                            React.createElement('div', { key: 'info', className: 'flex items-center gap-3' }, [
                                                React.createElement('input', {
                                                    key: 'color',
                                                    type: 'color',
                                                    value: subject.color,
                                                    onChange: (e) => changeSubjectColor(subject.id, e.target.value),
                                                    className: 'w-8 h-8 rounded border-none'
                                                }),
                                                React.createElement('span', { key: 'name', className: 'font-medium' }, subject.name)
                                            ]),
                                            subjects.length > 1 && React.createElement('button', {
                                                key: 'delete',
                                                onClick: () => deleteSubject(subject.id),
                                                className: 'text-red-500 hover:text-red-700 p-1',
                                                title: '科目を削除'
                                            }, React.createElement(Trash2, { size: 16 }))
                                        ])
                                    )
                                ),

                                !showAddSubject 
                                    ? React.createElement('button', {
                                        key: 'add-btn',
                                        onClick: () => setShowAddSubject(true),
                                        className: 'flex items-center gap-2 text-blue-600 hover:text-blue-700'
                                    }, [
                                        React.createElement(Plus, { key: 'icon', size: 16 }),
                                        '科目を追加'
                                    ])
                                    : React.createElement('div', { key: 'add-form', className: 'flex gap-2' }, [
                                        React.createElement('input', {
                                            key: 'input',
                                            type: 'text',
                                            value: newSubjectName,
                                            onChange: (e) => setNewSubjectName(e.target.value),
                                            placeholder: '科目名を入力',
                                            className: 'flex-1 px-3 py-2 border border-gray-300 rounded-lg'
                                        }),
                                        React.createElement('button', {
                                            key: 'add',
                                            onClick: addSubject,
                                            className: 'px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600'
                                        }, '追加'),
                                        React.createElement('button', {
                                            key: 'cancel',
                                            onClick: () => {
                                                setShowAddSubject(false);
                                                setNewSubjectName('');
                                            },
                                            className: 'px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400'
                                        }, 'キャンセル')
                                    ])
                            ])
                        ]);

                    default:
                        return null;
                }
            };

            return React.createElement('div', { className: 'app-container' }, [
                // ヘッダー
                React.createElement('div', { key: 'header', className: 'bg-blue-600 text-white p-4' },
                    React.createElement('h1', { className: 'text-xl font-bold text-center' }, '勉強管理アプリ')
                ),

                // メインコンテンツ
                React.createElement('div', { key: 'content', className: 'p-4' },
                    renderTabContent()
                ),

                // ボトムナビゲーション
                React.createElement('div', { key: 'nav', className: 'fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white border-t border-gray-200' },
                    React.createElement('div', { className: 'flex' }, [
                        React.createElement('button', {
                            key: 'timer',
                            onClick: () => setActiveTab('timer'),
                            className: `flex-1 p-4 text-center ${
                                activeTab === 'timer' ? 'text-blue-600 bg-blue-50' : 'text-gray-600'
                            }`
                        }, [
                            React.createElement(Play, { key: 'icon', size: 20, className: 'mx-auto mb-1' }),
                            React.createElement('div', { key: 'text', className: 'text-xs' }, 'タイマー')
                        ]),
                        
                        React.createElement('button', {
                            key: 'history',
                            onClick: () => setActiveTab('history'),
                            className: `flex-1 p-4 text-center ${
                                activeTab === 'history' ? 'text-blue-600 bg-blue-50' : 'text-gray-600'
                            }`
                        }, [
                            React.createElement(BarChart3, { key: 'icon', size: 20, className: 'mx-auto mb-1' }),
                            React.createElement('div', { key: 'text', className: 'text-xs' }, '履歴')
                        ]),
                        
                        React.createElement('button', {
                            key: 'goals',
                            onClick: () => setActiveTab('goals'),
                            className: `flex-1 p-4 text-center ${
                                activeTab === 'goals' ? 'text-blue-600 bg-blue-50' : 'text-gray-600'
                            }`
                        }, [
                            React.createElement(Target, { key: 'icon', size: 20, className: 'mx-auto mb-1' }),
                            React.createElement('div', { key: 'text', className: 'text-xs' }, '目標')
                        ]),
                        
                        React.createElement('button', {
                            key: 'settings',
                            onClick: () => setActiveTab('settings'),
                            className: `flex-1 p-4 text-center ${
                                activeTab === 'settings' ? 'text-blue-600 bg-blue-50' : 'text-gray-600'
                            }`
                        }, [
                            React.createElement(Settings, { key: 'icon', size: 20, className: 'mx-auto mb-1' }),
                            React.createElement('div', { key: 'text', className: 'text-xs' }, '設定')
                        ])
                    ])
                ),
                
                // ボトムナビゲーション分のスペース
                React.createElement('div', { key: 'spacer', className: 'h-20' })
            ]);
        };

        // アプリをレンダリング
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(StudyManagementApp));
    </script>
</body>
</html>